# MyCraft 要件定義書

## 1. プロダクト概要

### 1.1 コンセプト

MyCraftは、Minecraftの各ワールドの世界観を楽しむSNSアプリケーション。
ユーザーはワールドの住人になりきって投稿し、スクリーンショットや建築物を共有する。
サーバー宣伝の場としても機能する。

### 1.2 ターゲットユーザー

一般のMinecraftユーザー全体

### 1.3 プラットフォーム

- Web（MVP）
- Mobile（Web完成後）

---

## 2. ユーザーストーリー

### 2.1 認証

- [x] ユーザーとして、Discordアカウントでログインしたい
- [x] ユーザーとして、Googleアカウントでログインしたい
- [x] ユーザーとして、メール+パスワードでアカウント登録・ログインしたい
- [x] ユーザーとして、ログアウトしたい

### 2.2 プロフィール

- [x] ユーザーとして、自分のプロフィールを設定したい（名前、アイコン、自己紹介）
- [x] ユーザーとして、ユニークなユーザーID（英数字）を設定したい
- [x] ユーザーとして、Minecraft Java版のユーザー名を任意で登録したい
- [x] ユーザーとして、Minecraft Bedrock版のゲーマータグを任意で登録したい
- [x] ユーザーとして、他のユーザーのプロフィールと投稿一覧を閲覧したい

### 2.3 ワールド

- [x] ユーザーとして、新しいワールドを作成したい
- [x] ワールド管理者として、ワールドの情報を編集したい（説明文、参加方法）
- [x] ユーザーとして、ワールドに参加したい
- [x] ユーザーとして、ワールドから脱退したい
- [x] ユーザーとして、ワールドのページを閲覧したい（説明、投稿一覧、メンバー一覧）
- [x] ユーザーとして、ワールドを検索したい

### 2.4 投稿

- [x] ユーザーとして、テキストと画像（0〜4枚）で投稿したい
- [x] ユーザーとして、投稿にワールドを1つ紐づけたい
- [x] ユーザーとして、投稿の公開範囲を選びたい（全体公開 / ワールドメンバー限定）
- [x] ユーザーとして、自分の投稿を削除したい
- [x] ユーザーとして、投稿を検索したい

### 2.5 リアクション

- [x] ユーザーとして、投稿にいいねしたい
- [x] ユーザーとして、投稿にコメントしたい
- [x] ユーザーとして、コメントにいいねしたい
- [x] ユーザーとして、コメントに返信したい（無制限ネスト）
- [x] ユーザーとして、投稿を拡散（リポスト）したい

### 2.6 フォロー

- [x] ユーザーとして、他のユーザーをフォローしたい
- [x] ユーザーとして、フォローを解除したい
- [x] ユーザーとして、フォロー/フォロワー一覧を見たい

### 2.7 フィード

- [x] ユーザーとして、全体の新着投稿を見たい
- [x] ユーザーとして、全体のおすすめ投稿を見たい
- [x] ユーザーとして、フォロー中ユーザーの投稿を見たい
- [x] ユーザーとして、特定ワールドの投稿を見たい

### 2.8 通知

- [x] ユーザーとして、いいねされたら通知を受け取りたい
- [x] ユーザーとして、コメントされたら通知を受け取りたい
- [x] ユーザーとして、フォローされたら通知を受け取りたい
- [x] ユーザーとして、投稿が拡散されたら通知を受け取りたい

### 2.9 検索

- [x] ユーザーとして、ワールドを名前で検索したい
- [x] ユーザーとして、ユーザーを名前またはIDで検索したい
- [x] ユーザーとして、投稿を本文で検索したい

---

## 3. 機能要件

### 3.1 認証機能

| 機能               | 詳細                |
| ------------------ | ------------------- |
| ソーシャルログイン | Discord, Google     |
| メール認証         | メール + パスワード |
| セッション管理     | Supabase Auth       |

### 3.2 ユーザー機能

| 項目                  | 詳細                   |
| --------------------- | ---------------------- |
| ユーザーID            | 英数字、ユニーク、必須 |
| 表示名                | 文字列、必須           |
| アイコン              | 画像、任意             |
| 自己紹介              | テキスト、任意         |
| Java版ユーザー名      | 文字列、ユニーク、任意 |
| Bedrock版ゲーマータグ | 文字列、ユニーク、任意 |

### 3.3 ワールド機能

| 項目       | 詳細                                           |
| ---------- | ---------------------------------------------- |
| ワールド名 | 文字列、必須                                   |
| 説明文     | テキスト、任意                                 |
| 参加方法   | テキスト、任意                                 |
| アイコン   | 画像、任意（未設定時はデフォルト風景アイコン） |
| 管理者     | 作成者1名のみ                                  |
| 参加       | 自由参加（MVP）                                |

### 3.4 投稿機能

| 項目           | 詳細                                 |
| -------------- | ------------------------------------ |
| 本文           | テキスト、必須                       |
| 画像           | 0〜4枚                               |
| 紐づけワールド | 単一、任意                           |
| 公開範囲       | 全体公開（デフォルト）/ ワールド限定 |
| 削除           | 投稿者本人のみ可                     |

### 3.5 リアクション機能

| 機能     | 詳細                             |
| -------- | -------------------------------- |
| いいね   | 投稿、コメントに対して           |
| コメント | 投稿に対して                     |
| 返信     | コメントに対して（無制限ネスト） |
| 拡散     | リポスト                         |

### 3.6 フィード機能

| 種類       | 詳細                                             |
| ---------- | ------------------------------------------------ |
| 新着       | 全投稿を時系列降順                               |
| おすすめ   | いいね数などでソート（アルゴリズムはシンプルに） |
| フォロー中 | フォローしているユーザーの投稿                   |
| ワールド別 | 特定ワールドに紐づく投稿                         |

---

## 4. 非機能要件

### 4.1 パフォーマンス

- ページ初期表示: 3秒以内
- 無限スクロール対応（フィード）

### 4.2 セキュリティ

- 閲覧は未ログインでも可能（公開コンテンツのみ）
- 投稿・いいね等のアクションはログイン必須
- Row Level Security (RLS) by Supabase

### 4.3 スケーラビリティ

- Supabaseのスケーリングに依存
- 画像はSupabase Storageで管理

---

## 5. MVP対象外（将来実装）

- ワールドの承認制参加
- 通報・モデレーション機能
- ダイレクトメッセージ
- ハッシュタグ
- 投稿の編集機能
- Mobileアプリ
